#!/usr/bin/env python
# encode:utf8
from tkinter import Tk, ttk
import subprocess
import sys
import datetime


dirname = "$HOME/Pictures/scs/"
# upload = filename


def ssArea(event):
    datename = datetime.datetime.today()
    filename = datename.strftime("%Y-%m-%d-%H:%M:%S")

    try:
        subprocess.check_output('gnome-screenshot -a -f %s%s.png' % (dirname, filename), shell=True)
    except:
        print("Error")
    print(filename)


def ssWindow(event):
    datename = datetime.datetime.today()
    filename = datename.strftime("%Y-%m-%d-%H:%M:%S")

    try:
        subprocess.check_output('gnome-screenshot -w -d 5 -f %s%s.png' % (dirname, filename), shell=True)
    except:
        print("Error")
    print(filename)


def ssQuit(event):
    sys.exit()


root = Tk()
root.title("SSTool")
lbl1 = ttk.Label(root, text="screenshot")
btn1 = ttk.Button(root, text='Area')
btn2 = ttk.Button(root, text='Window')
btn3 = ttk.Button(root, text='Exit')
btn1.bind("<Button-1>", ssArea)
btn2.bind("<Button-1>", ssWindow)
btn3.bind("<Button-1>", ssQuit)
lbl1.grid()
btn1.grid()
btn2.grid()
btn3.grid()
root.mainloop()
